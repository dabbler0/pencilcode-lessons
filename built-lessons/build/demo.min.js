(function(){var a,b;b=500,a=500,$("pre").filter(function(a,b){return $(b).has("code")}).each(function(){var c,d,e,f,g,h;return g=$("<div>").css({"float":"right",overflow:"hidden",position:"relative",zIndex:"-1",width:0,height:0}).prependTo(this),e=$("<iframe>").css({position:"absolute",left:"-9999px",top:"-9999px",zIndex:"-1",width:b,height:a}).get(0),g.append(e),f=null!=(h=e.contentWindow)?h:e.contentDocument,d=f.document,c=this.innerText,d.open(),d.write("<!doctype html>\n<html>\n<body>\n<script src='vendor/turtlebits.js'></script>\n<script src='vendor/seedrandom.js'></script>\n<script type=\"text/coffeescript\">\neval @_start_ide_cs\nwindow.speed Infinity\nwindow.speed = ->\nMath.seedrandom 'turtle'\n"+c+"\n </script>\n </body>\n </html>"),d.close(),f.addEventListener("load",function(a){return function(){var b,c,d,h,i,j,k,l,m,n,o,p,q;for(b=f.canvas(),c=b.getContext("2d"),d=c.getImageData(0,0,b.width,b.height),k={x:1/0,y:1/0},j={x:0,y:0},h={x:0,y:0},q=d.data,i=o=0,p=q.length;p>o;i=o+=4)n=q[i],d.data[i+3]>0&&(l=i/4%d.width,m=Math.floor(i/(4*d.width)),k.x=Math.min(k.x,l),j.x=Math.max(j.x,l),k.y=Math.min(k.y,m),j.y=Math.max(j.y,m),h.x=Math.max(h.x,Math.abs(d.width/2-l)),h.y=Math.max(h.y,Math.abs(d.height/2-m)));return f.$("div, button").each(function(){var a;return a=$(this),k.x=Math.min(k.x,a.offset().left),k.y=Math.min(k.y,a.offset().top),j.x=Math.max(j.x,a.offset().left+a.width()),j.y=Math.max(j.y,a.offset().top+a.height())}),$(g).css({width:j.x-k.x+50,height:j.y-k.y+50}),$(a).css({minHeight:j.y-k.y+50,border:"1px solid black"}),console.log(b.width,b.height,k),$(e).css({left:25-k.x,top:25-k.y})}}(this))})}).call(this);